<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="idHoaDon" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[6]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select idhoaDon,nv.hoTenNhanVien,kh.tenKhachHang,kh.SDTKhachHang,p.tenPhong,FORMAT(ptp.thoiGianMo ,'dd/MM/yyyy HH:mm:ss') ngayDat,FORMAT(ptp.thoiGianDong ,'dd/MM/yyyy HH:mm:ss') ngayDi,tenLoaiPhong,
format(hd.tienPhong,'#,#') tienPhong,format(tienDichVu,'#,#') tienDichVu,format(phuThu,'#,#') phuThu,format(tongTien,'#,#') tongTien,
tenDichVu,FORMAT(gioSuDung ,'dd/MM/yyyy HH:mm:ss') gioSuDung,soLuong,format(ctdv.gia,'#,#') thanhTien 
from HoaDon hd 
join phieuThuePhong ptp on hd.idPhieuThuePhong=ptp.idPhieuThuePhong
join HoaDonDichVu hddv on hddv.idHoaDonDichVu=hd.idHoaDonDichVu
join NhanVien nv on nv.idNhanVien=ptp.idNhanVien
join KhachHang kh on kh.SDTKhachHang=ptp.SDTKhachHang
join Phong p on p.idPhong=ptp.idPhong
join chiTietDichVuSuDung ctdv on ctdv.idHoaDonDichVu=hddv.idHoaDonDichVu
join DichVu dv on dv.idDichVu=ctdv.idDichVu
join LoaiPhong lp on p.idLoaiPhong=lp.idLoaiPhong
where idHoaDon =$P{idHoaDon}]]>
	</queryString>
	<field name="idhoaDon" class="java.lang.Integer"/>
	<field name="hoTenNhanVien" class="java.lang.String"/>
	<field name="tenKhachHang" class="java.lang.String"/>
	<field name="SDTKhachHang" class="java.lang.String"/>
	<field name="tenPhong" class="java.lang.String"/>
	<field name="ngayDat" class="java.lang.String"/>
	<field name="ngayDi" class="java.lang.String"/>
	<field name="tenLoaiPhong" class="java.lang.String"/>
	<field name="tienPhong" class="java.lang.String"/>
	<field name="tienDichVu" class="java.lang.String"/>
	<field name="phuThu" class="java.lang.String"/>
	<field name="tongTien" class="java.lang.String"/>
	<field name="tenDichVu" class="java.lang.String"/>
	<field name="gioSuDung" class="java.lang.String"/>
	<field name="soLuong" class="java.lang.Integer"/>
	<field name="thanhTien" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="483" y="4" width="52" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[ID Hoá Đơn:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="24" width="555" height="43"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[HOÁ ĐƠN]]></text>
			</staticText>
			<textField>
				<reportElement x="535" y="4" width="20" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{idhoaDon}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch">
			<staticText>
				<reportElement x="-153" y="22" width="100" height="20"/>
				<text><![CDATA[I, Thông tin hoá đơn]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="2" width="100" height="20"/>
				<text><![CDATA[I, Thông tin hoá đơn]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="182" splitType="Stretch">
			<staticText>
				<reportElement x="-153" y="22" width="100" height="20"/>
				<text><![CDATA[I, Thông tin hoá đơn]]></text>
			</staticText>
			<staticText>
				<reportElement x="59" y="7" width="100" height="20"/>
				<text><![CDATA[Tên khách hàng: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="7" width="100" height="20"/>
				<text><![CDATA[Loại phòng:]]></text>
			</staticText>
			<staticText>
				<reportElement x="59" y="40" width="100" height="20"/>
				<text><![CDATA[Số Điện Thoại:]]></text>
			</staticText>
			<staticText>
				<reportElement x="59" y="70" width="100" height="20"/>
				<text><![CDATA[Phòng thuê:]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="42" width="100" height="20"/>
				<text><![CDATA[Giờ Thuê:]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="70" width="100" height="20"/>
				<text><![CDATA[Giờ Trả:]]></text>
			</staticText>
			<textField>
				<reportElement x="159" y="7" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{tenKhachHang}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="159" y="40" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{SDTKhachHang}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="159" y="70" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{tenPhong}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="402" y="7" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{tenLoaiPhong}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="401" y="40" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{ngayDat}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="401" y="70" width="110" height="20"/>
				<textFieldExpression><![CDATA[$F{ngayDi}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="420" y="151" width="100" height="20"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Thành Tiền]]></text>
			</staticText>
			<staticText>
				<reportElement x="74" y="151" width="100" height="20"/>
				<text><![CDATA[Tên Dịch vụ]]></text>
			</staticText>
			<staticText>
				<reportElement x="184" y="152" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Số lần sử dụng]]></text>
			</staticText>
			<staticText>
				<reportElement x="301" y="151" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Ngày sử dụng]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="117" width="128" height="20"/>
				<text><![CDATA[II, Chi tiết Thanh toán]]></text>
			</staticText>
			<line>
				<reportElement x="41" y="181" width="494" height="1"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="45" splitType="Stretch">
			<staticText>
				<reportElement x="-153" y="22" width="100" height="20"/>
				<text><![CDATA[I, Thông tin hoá đơn]]></text>
			</staticText>
			<textField>
				<reportElement x="301" y="12" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{gioSuDung}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="501" y="12" width="19" height="20"/>
				<text><![CDATA[vnđ]]></text>
			</staticText>
			<textField>
				<reportElement x="420" y="12" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{thanhTien}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="184" y="12" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{soLuong}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="74" y="12" width="100" height="20"/>
				<textFieldExpression><![CDATA[$F{tenDichVu}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="259" splitType="Stretch">
			<staticText>
				<reportElement x="66" y="152" width="121" height="20"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Xác nhận Khách hàng]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="101" width="100" height="20"/>
				<text><![CDATA[Tổng tiền trả:]]></text>
			</staticText>
			<textField>
				<reportElement x="402" y="101" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{tongTien}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="402" y="31" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{tienPhong}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="302" y="51" width="100" height="20"/>
				<text><![CDATA[Dịch vụ:]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="31" width="100" height="20"/>
				<text><![CDATA[Tiền Phòng: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="383" y="152" width="100" height="20"/>
				<text><![CDATA[Xác nhận nhân viên]]></text>
			</staticText>
			<textField>
				<reportElement x="77" y="192" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{tenKhachHang}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="476" y="31" width="19" height="20"/>
				<text><![CDATA[vnđ]]></text>
			</staticText>
			<staticText>
				<reportElement x="476" y="51" width="19" height="20"/>
				<text><![CDATA[vnđ]]></text>
			</staticText>
			<textField>
				<reportElement x="402" y="71" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{phuThu}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="476" y="101" width="19" height="20"/>
				<text><![CDATA[vnđ]]></text>
			</staticText>
			<staticText>
				<reportElement x="476" y="71" width="19" height="20"/>
				<text><![CDATA[vnđ]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="71" width="100" height="20"/>
				<text><![CDATA[Phụ thu:]]></text>
			</staticText>
			<textField>
				<reportElement x="383" y="192" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{hoTenNhanVien}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="301" y="17" width="200" height="1"/>
			</line>
			<textField>
				<reportElement x="402" y="51" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{tienDichVu}]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
